{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from 'react';\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport * as Animatable from 'react-native-animatable';\nimport Accordion from 'react-native-collapsible/Accordion';\nimport axios from 'axios';\nimport { useEffect } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Todo = function Todo() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      post = _useState2[0],\n      setPost = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isLoading = _useState4[0],\n      setIsLoading = _useState4[1];\n\n  useEffect(function () {\n    getPost();\n  }, []);\n\n  var getPost = function getPost() {\n    setIsLoading(true);\n    axios.get('https://61e26aba3050a10017682175.mockapi.io/todo').then(function (res) {\n      setPost(res.data);\n      setIsLoading(false);\n    }).catch(function () {\n      alert('Error Fetch Data');\n      setIsLoading(false);\n    });\n  };\n\n  var newPost = post.filter(function (item) {\n    return item.status == 'not yet';\n  });\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      activeSections = _useState6[0],\n      setActiveSections = _useState6[1];\n\n  var setSections = function setSections(sections) {\n    setActiveSections(sections.includes(undefined) ? [] : sections);\n  };\n\n  var renderHeader = function renderHeader(section, _, isActive) {\n    return _jsx(Animatable.View, {\n      duration: 400,\n      style: [styles.header, isActive ? styles.active : styles.inactive],\n      transition: \"backgroundColor\",\n      children: _jsx(Text, {\n        style: styles.headerText,\n        children: section.title\n      })\n    });\n  };\n\n  var renderContent = function renderContent(section, _, isActive) {\n    var handleSubmit = function handleSubmit() {\n      var config, data, res;\n      return _regeneratorRuntime.async(function handleSubmit$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              config = {\n                headers: {\n                  \"Content-type\": \"application/json\"\n                }\n              };\n              data = {\n                status: 'finish'\n              };\n              console.log(data);\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(axios.put(\"https://61e26aba3050a10017682175.mockapi.io/todo/\" + section.id, data, config));\n\n            case 5:\n              res = _context.sent;\n              console.log(res);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    return _jsxs(Animatable.View, {\n      duration: 400,\n      style: [styles.content, isActive ? styles.active : styles.inactive],\n      transition: \"backgroundColor\",\n      children: [_jsxs(Text, {\n        children: [_jsx(\"span\", {\n          style: {\n            fontWeight: 'bold'\n          },\n          children: \"Description:\"\n        }), section.description]\n      }), _jsxs(Text, {\n        style: {\n          marginTop: 20\n        },\n        children: [_jsx(\"span\", {\n          style: {\n            fontWeight: 'bold'\n          },\n          children: \"Time:\"\n        }), section.time]\n      }), _jsx(Pressable, {\n        style: styles.btn,\n        onPress: handleSubmit,\n        children: _jsx(Text, {\n          style: styles.btntxt,\n          children: \"Done\"\n        })\n      })]\n    });\n  };\n\n  return _jsx(SafeAreaView, {\n    style: {\n      flex: 1\n    },\n    children: _jsx(View, {\n      style: styles.container,\n      children: _jsx(ScrollView, {\n        children: _jsx(Accordion, {\n          activeSections: activeSections,\n          sections: newPost,\n          renderHeader: renderHeader,\n          renderContent: renderContent,\n          duration: 400,\n          onChange: setSections\n        })\n      })\n    })\n  });\n};\n\nexport default Todo;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingTop: 20,\n    marginLeft: 20\n  },\n  headerText: {\n    textAlign: 'left',\n    marginLeft: 20,\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: 'black',\n    marginTop: 5\n  },\n  content: {\n    padding: 20,\n    backgroundColor: '#fff',\n    color: 'black'\n  },\n  active: {\n    backgroundColor: 'white',\n    width: 330\n  },\n  inactive: {\n    backgroundColor: 'gray'\n  },\n  header: {\n    color: 'white',\n    marginTop: 10,\n    width: 330,\n    height: 30,\n    borderRadius: 5\n  },\n  btn: {\n    marginLeft: 250,\n    backgroundColor: 'green',\n    borderRadius: 5,\n    width: 50,\n    height: 30,\n    marginTop: 20\n  },\n  btntxt: {\n    marginLeft: 7,\n    color: 'white',\n    marginTop: 5,\n    fontWeight: 'bold'\n  }\n});","map":{"version":3,"sources":["D:/pelatihan/batch 29/react native/todolist/src/screen/todo.js"],"names":["React","useState","Animatable","Accordion","axios","useEffect","Todo","post","setPost","isLoading","setIsLoading","getPost","get","then","res","data","catch","alert","newPost","filter","item","status","activeSections","setActiveSections","setSections","sections","includes","undefined","renderHeader","section","_","isActive","styles","header","active","inactive","headerText","title","renderContent","handleSubmit","config","headers","console","log","put","id","content","fontWeight","description","marginTop","time","btn","btntxt","flex","container","StyleSheet","create","paddingTop","marginLeft","textAlign","fontSize","color","padding","backgroundColor","width","height","borderRadius"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport {\r\n  SafeAreaView,\r\n\r\n  ScrollView,\r\n  StyleSheet,\r\n  Text,\r\n  View,Pressable\r\n } from 'react-native';\r\nimport * as Animatable from 'react-native-animatable';\r\nimport Accordion from 'react-native-collapsible/Accordion';\r\nimport axios from 'axios'\r\nimport { useEffect } from 'react';\r\n\r\nconst Todo = () => {\r\n    const [post, setPost] = useState([])\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    useEffect(()=>{\r\n        getPost()\r\n    },[])\r\n    const getPost = () => {\r\n        setIsLoading(true)\r\n        axios\r\n            .get('https://61e26aba3050a10017682175.mockapi.io/todo')\r\n            .then((res)=>{\r\n                setPost(res.data)\r\n                setIsLoading(false)\r\n            })\r\n            .catch(()=> {\r\n                alert('Error Fetch Data')\r\n                setIsLoading(false)\r\n            })\r\n    }\r\n\r\n    const newPost = post.filter((item)=>item.status == 'not yet')\r\n\r\n    \r\n  const [activeSections, setActiveSections] = useState([]);\r\n  const setSections = (sections) => {\r\n      setActiveSections(\r\n      sections.includes(undefined) ? [] : sections\r\n    );\r\n  };\r\n  const renderHeader = (section, _, isActive) => {\r\n      return (\r\n      <Animatable.View\r\n        duration={400}\r\n        style={[\r\n          styles.header,\r\n          isActive ? styles.active : styles.inactive\r\n        ]}\r\n        transition=\"backgroundColor\">\r\n        <Text style={styles.headerText}>\r\n          {section.title}\r\n        </Text>\r\n      </Animatable.View>\r\n    );\r\n  };\r\n\r\n  const renderContent = (section, _, isActive) => {\r\n    const handleSubmit = async() => {\r\n        \r\n        const config ={\r\n          headers:{\r\n            \"Content-type\": \"application/json\",\r\n          },\r\n        };\r\n        const data ={status:'finish'}\r\n        console.log(data)\r\n         const res = await axios.put(`https://61e26aba3050a10017682175.mockapi.io/todo/${section.id}`,data,config);\r\n         console.log(res)\r\n      };\r\n    return (\r\n      <Animatable.View\r\n        duration={400}\r\n        style={[\r\n          styles.content,\r\n          isActive ? styles.active : styles.inactive\r\n        ]}\r\n        transition=\"backgroundColor\">\r\n        <Text><span style={{fontWeight:'bold'}}>Description:</span>{section.description}</Text>\r\n        <Text style={{marginTop:20}}><span style={{fontWeight:'bold'}}>Time:</span>{section.time}</Text>\r\n        <Pressable style={styles.btn} onPress={handleSubmit}><Text style={styles.btntxt}>Done</Text></Pressable>\r\n      </Animatable.View>\r\n    );\r\n  };\r\n  return (\r\n    <SafeAreaView style={{flex: 1}}>\r\n      <View style={styles.container}>\r\n        <ScrollView>\r\n        <Accordion\r\n            activeSections={activeSections}\r\n            sections={newPost}\r\n            renderHeader={renderHeader}\r\n            renderContent={renderContent}\r\n            duration={400}\r\n            onChange={setSections}\r\n          />\r\n\r\n        </ScrollView>\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nexport default Todo;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    paddingTop: 20,\r\n    marginLeft:20\r\n  },\r\n  headerText: {\r\n    textAlign: 'left',\r\n    marginLeft:20,\r\n    fontSize: 14,\r\n    fontWeight: 'bold',\r\n    color:'black',marginTop:5\r\n  },\r\n  content: {\r\n    padding: 20,\r\n    backgroundColor: '#fff',\r\n    color:'black'\r\n  },\r\n  active: {\r\n    backgroundColor: 'white',width:330,\r\n  },\r\n  inactive: {\r\n    backgroundColor: 'gray',\r\n  },\r\n  header:{\r\n      color:'white',\r\n      marginTop:10,\r\n      width:330,\r\n      height:30,\r\n      borderRadius:5\r\n  },\r\n  btn :{\r\n    marginLeft:250,backgroundColor:'green',borderRadius:5, width:50,height:30,marginTop:20\r\n  },\r\n  btntxt:{\r\n    marginLeft:7,color:'white',marginTop:5,fontWeight:'bold'\r\n  }\r\n});"]},"metadata":{},"sourceType":"module"}