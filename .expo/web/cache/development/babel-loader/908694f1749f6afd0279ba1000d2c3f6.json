{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport React from \"react\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar wait = function wait(timeout) {\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, timeout);\n  });\n};\n\nexport default function FinishTodo() {\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      refreshing = _React$useState2[0],\n      setRefreshing = _React$useState2[1];\n\n  var onRefresh = React.useCallback(function () {\n    setRefreshing(true);\n    wait(2000).then(function () {\n      setRefreshing(false);\n      getPost();\n    });\n  }, []);\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      post = _useState2[0],\n      setPost = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isLoading = _useState4[0],\n      setIsLoading = _useState4[1];\n\n  React.useEffect(function () {\n    getPost();\n  }, []);\n\n  var getPost = function getPost() {\n    setIsLoading(true);\n    axios.get('https://61e26aba3050a10017682175.mockapi.io/todo').then(function (res) {\n      setPost(res.data);\n      setIsLoading(false);\n    }).catch(function () {\n      alert('Error Fetch Data');\n      setIsLoading(false);\n    });\n  };\n\n  console.log(post);\n  var newPost = post.filter(function (item) {\n    return item.status == 'finish';\n  });\n\n  var todo = function todo(_ref) {\n    var item = _ref.item;\n\n    var deleteById = function deleteById() {\n      return _regeneratorRuntime.async(function deleteById$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              axios.delete(\"https://61e26aba3050a10017682175.mockapi.io/todo/\" + item.id).then(function (res) {\n                console.log(res);\n                console.log(res.data);\n              });\n              getPost();\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    return _jsxs(View, {\n      style: {\n        flex: 1,\n        flexDirection: 'row',\n        justifyContent: 'space-between'\n      },\n      children: [_jsx(Pressable, {\n        style: {\n          marginLeft: 20,\n          marginTop: 20\n        },\n        children: _jsx(Text, {\n          style: {\n            fontSize: 15,\n            fontWeight: 'bold'\n          },\n          children: item.title\n        })\n      }), _jsx(Pressable, {\n        onPress: deleteById,\n        style: {\n          marginRight: 15,\n          backgroundColor: 'red',\n          borderRadius: 5,\n          width: 50,\n          height: 30,\n          marginTop: 20\n        },\n        children: _jsx(Text, {\n          style: {\n            marginLeft: 4,\n            color: 'white',\n            marginTop: 5,\n            fontWeight: 'bold',\n            fontSize: 12\n          },\n          children: \"Delete\"\n        })\n      })]\n    });\n  };\n\n  return _jsx(ScrollView, {\n    refreshControl: _jsx(RefreshControl, {\n      refreshing: refreshing,\n      onRefresh: onRefresh\n    }),\n    children: _jsx(FlatList, {\n      data: newPost,\n      renderItem: todo,\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      }\n    })\n  });\n}","map":{"version":3,"sources":["D:/pelatihan/batch 29/react native/todolist/src/screen/finishedtodo.js"],"names":["axios","useState","useEffect","React","wait","timeout","Promise","resolve","setTimeout","FinishTodo","refreshing","setRefreshing","onRefresh","useCallback","then","getPost","post","setPost","isLoading","setIsLoading","get","res","data","catch","alert","console","log","newPost","filter","item","status","todo","deleteById","delete","id","flex","flexDirection","justifyContent","marginLeft","marginTop","fontSize","fontWeight","title","marginRight","backgroundColor","borderRadius","width","height","color"],"mappings":"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","sourcesContent":["import { View,Text } from \"react-native\"\r\nimport { FlatList,Pressable,ScrollView } from \"react-native\";\r\nimport axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport React from \"react\";\r\nimport { RefreshControl } from 'react-native';\r\n\r\nconst wait = (timeout) => {\r\n  return new Promise(resolve => setTimeout(resolve, timeout));\r\n}\r\nexport default function FinishTodo(){\r\n    const [refreshing, setRefreshing] = React.useState(false);\r\n\r\n    const onRefresh = React.useCallback(() => {\r\n      setRefreshing(true);\r\n      wait(2000).then(() =>{ setRefreshing(false); getPost()});\r\n    }, []);\r\n        const [post, setPost] = useState([])\r\n        const [isLoading, setIsLoading] = useState(false)\r\n        React.useEffect(()=>{\r\n            getPost()\r\n        },[])\r\n        const getPost = () => {\r\n            setIsLoading(true)\r\n            axios\r\n                .get('https://61e26aba3050a10017682175.mockapi.io/todo')\r\n                .then((res)=>{\r\n                    setPost(res.data)\r\n                    setIsLoading(false)\r\n                })\r\n                .catch(()=> {\r\n                    alert('Error Fetch Data')\r\n                    setIsLoading(false)\r\n                })\r\n        }\r\n    \r\n        console.log(post)\r\n\r\n        const newPost = post.filter((item)=>item.status == 'finish')\r\n        const todo =({item})=>{\r\n            const deleteById = async () => {\r\n                axios.delete(`https://61e26aba3050a10017682175.mockapi.io/todo/${item.id}`)\r\n                .then(res => {\r\n                  console.log(res);\r\n                  console.log(res.data);\r\n                })\r\n                getPost()\r\n                };\r\n            return(<View style={{flex:1,flexDirection:'row',justifyContent:'space-between'}}>\r\n                <Pressable style={{marginLeft:20,marginTop:20}}>\r\n                    <Text style={{fontSize:15,fontWeight:'bold'}}>{item.title}</Text>\r\n                </Pressable>\r\n                <Pressable onPress={deleteById} style={{marginRight:15,backgroundColor:'red',borderRadius:5, width:50,height:30,marginTop:20}}>\r\n                    <Text style={{marginLeft:4,color:'white',marginTop:5,fontWeight:'bold',fontSize:12}} >Delete</Text>\r\n                </Pressable>\r\n            </View>\r\n            )\r\n        }\r\n    \r\n    return(\r\n     \r\n      <ScrollView        \r\n       refreshControl={\r\n          <RefreshControl\r\n            refreshing={refreshing}\r\n            onRefresh={onRefresh}\r\n          />\r\n        }>\r\n            <FlatList\r\n                data={newPost}\r\n                renderItem={todo}\r\n                keyExtractor={item => item.id}\r\n            />\r\n            </ScrollView>\r\n    \r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}